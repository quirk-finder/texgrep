[pytest]
DJANGO_SETTINGS_MODULE = texgrep.settings
pythonpath = backend .

# 既存の -ra を残しつつ、カバレッジや計測を追加
addopts =
    -ra
    --cov=backend --cov=indexer
    --cov-report=term-missing
    --cov-report=xml
    --durations=10
    --cov-fail-under=70

# 将来的に警告を厳しくしたい場合の例（まずは緩めでOK）
filterwarnings =
    # search.* 由来の Deprecation は落とす（例）
    error::DeprecationWarning:search\.
    # それ以外の Deprecation は一旦許容
    ignore::DeprecationWarning
